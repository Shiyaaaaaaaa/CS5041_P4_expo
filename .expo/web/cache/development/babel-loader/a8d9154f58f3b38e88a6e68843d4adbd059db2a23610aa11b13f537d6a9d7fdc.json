{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { useEffect, useRef } from 'react';\nimport { makeMutable, registerSensor, unregisterSensor } from \"../core\";\nimport { SensorType, IOSReferenceFrame } from \"../commonTypes\";\nimport { callMicrotasks } from \"../threads\";\nfunction initSensorData(sensorType) {\n  if (sensorType === SensorType.ROTATION) {\n    return makeMutable({\n      qw: 0,\n      qx: 0,\n      qy: 0,\n      qz: 0,\n      yaw: 0,\n      pitch: 0,\n      roll: 0,\n      interfaceOrientation: 0\n    });\n  } else {\n    return makeMutable({\n      x: 0,\n      y: 0,\n      z: 0,\n      interfaceOrientation: 0\n    });\n  }\n}\nvar _worklet_16207379104934_init_data = {\n  code: \"function eulerToQuaternion(pitch, roll, yaw) {\\n  const c1 = Math.cos(pitch / 2);\\n  const s1 = Math.sin(pitch / 2);\\n  const c2 = Math.cos(roll / 2);\\n  const s2 = Math.sin(roll / 2);\\n  const c3 = Math.cos(yaw / 2);\\n  const s3 = Math.sin(yaw / 2);\\n  return [s1 * c2 * c3 - c1 * s2 * s3, c1 * s2 * c3 + s1 * c2 * s3, c1 * c2 * s3 + s1 * s2 * c3, c1 * c2 * c3 - s1 * s2 * s3];\\n}\",\n  location: \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"eulerToQuaternion\\\",\\\"pitch\\\",\\\"roll\\\",\\\"yaw\\\",\\\"c1\\\",\\\"Math\\\",\\\"cos\\\",\\\"s1\\\",\\\"sin\\\",\\\"c2\\\",\\\"s2\\\",\\\"c3\\\",\\\"s3\\\"],\\\"sources\\\":[\\\"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AA0BA,SAAAA,kBAAAC,KAAA,EAAAC,IAAA,EAAAC,GAAA;EAAA,MAAAC,EAAA,GAAAC,IAAA,CAAAC,GAAA,CAAAL,KAAA;EACA,MAAAM,EAAA,GAAAF,IAAA,CAAAG,GAAA,CAAAP,KAAA;EACA,MAAAQ,EAAS,GAAAJ,IAAA,CAAAC,GAAA,CAAAJ,IAAiB,GAAC;EAGzB,MAAMQ,EAAE,GAAGL,IAAI,CAACG,GAAG,CAACN,IAAA,GAAK,CAAG,CAAC;EAC7B,MAAMS,EAAE,GAAGN,IAAI,CAACC,GAAG,CAACH,GAAA,GAAK,EAAG;EAC5B,MAAMS,EAAE,GAAGP,IAAI,CAACG,GAAG,CAACL,GAAA,GAAI,CAAG,CAAC;EAC5B,OAAM,CAAEI,EAAA,GAAGE,EAAI,GAACE,EAAI,GAAAP,EAAI,GAAIM,EAAC,GAAAE,EAAA,EAAAR,EAAA,GAAAM,EAAA,GAAAC,EAAA,GAAAJ,EAAA,GAAAE,EAAA,GAAAG,EAAA,EAAAR,EAAA,GAAAK,EAAA,GAAAG,EAAA,GAAAL,EAAA,GAAAG,EAAA,GAAAC,EAAA,EAAAP,EAAA,GAAAK,EAAA,GAAAE,EAAA,GAAAJ,EAAA,GAAAG,EAAA,GAAAE,EAAA\\\"}\"\n};\nvar eulerToQuaternion = function () {\n  var _e = [new global.Error(), 1, -27];\n  var _f = function _f(pitch, roll, yaw) {\n    var c1 = Math.cos(pitch / 2);\n    var s1 = Math.sin(pitch / 2);\n    var c2 = Math.cos(roll / 2);\n    var s2 = Math.sin(roll / 2);\n    var c3 = Math.cos(yaw / 2);\n    var s3 = Math.sin(yaw / 2);\n    return [s1 * c2 * c3 - c1 * s2 * s3, c1 * s2 * c3 + s1 * c2 * s3, c1 * c2 * s3 + s1 * s2 * c3, c1 * c2 * c3 - s1 * s2 * s3];\n  };\n  _f._closure = {};\n  _f.__initData = _worklet_16207379104934_init_data;\n  _f.__workletHash = 16207379104934;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.1.0\";\n  return _f;\n}();\nvar _worklet_4985018991112_init_data = {\n  code: \"function adjustRotationToInterfaceOrientation(data) {\\n  const {\\n    eulerToQuaternion\\n  } = this._closure;\\n  const {\\n    interfaceOrientation: interfaceOrientation,\\n    pitch: pitch,\\n    roll: roll,\\n    yaw: yaw\\n  } = data;\\n  if (interfaceOrientation === 90) {\\n    data.pitch = roll;\\n    data.roll = -pitch;\\n    data.yaw = yaw - Math.PI / 2;\\n  } else if (interfaceOrientation === 270) {\\n    data.pitch = -roll;\\n    data.roll = pitch;\\n    data.yaw = yaw + Math.PI / 2;\\n  } else if (interfaceOrientation === 180) {\\n    data.pitch *= -1;\\n    data.roll *= -1;\\n    data.yaw *= -1;\\n  }\\n  const q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\\n  data.qx = q[0];\\n  data.qy = q[1];\\n  data.qz = q[2];\\n  data.qw = q[3];\\n  return data;\\n}\",\n  location: \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"adjustRotationToInterfaceOrientation\\\",\\\"data\\\",\\\"eulerToQuaternion\\\",\\\"_closure\\\",\\\"interfaceOrientation\\\",\\\"pitch\\\",\\\"roll\\\",\\\"yaw\\\",\\\"Math\\\",\\\"PI\\\",\\\"q\\\",\\\"qx\\\",\\\"qy\\\",\\\"qz\\\",\\\"qw\\\"],\\\"sources\\\":[\\\"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAuCA,SAAAA,oCAASA,CAAqCC,IAAA,EAAI;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAGhD,MAAM;IACJC,oBAAoB,EAApBA,oBAAoB;IACpBC,KAAK,EAALA,KAAK;IACLC,IAAI,EAAJA,IAAI;IACJC,GAAA,EAAAA;EACF,CAAC,GAAGN,IAAI;EACR,IAAIG,oBAAoB,KAAK,EAAE,EAAE;IAC/BH,IAAI,CAACI,KAAK,GAAGC,IAAI;IACjBL,IAAI,CAACK,IAAI,GAAG,CAACD,KAAK;IAClBJ,IAAI,CAACM,GAAG,GAAGA,GAAG,GAAGC,IAAI,CAACC,EAAE,GAAG,CAAC;EAC9B,CAAC,MAAM,IAAIL,oBAAoB,KAAK,GAAG,EAAE;IACvCH,IAAI,CAACI,KAAK,GAAG,CAACC,IAAI;IAClBL,IAAI,CAACK,IAAI,GAAGD,KAAK;IACjBJ,IAAI,CAACM,GAAG,GAAGA,GAAG,GAAGC,IAAI,CAACC,EAAE,GAAG,CAAC;EAC9B,CAAC,MAAM,IAAIL,oBAAoB,KAAK,GAAG,EAAE;IACvCH,IAAI,CAACI,KAAK,IAAI,CAAC,CAAC;IAChBJ,IAAI,CAACK,IAAI,IAAI,CAAC,CAAC;IACfL,IAAI,CAACM,GAAG,IAAI,CAAC,CAAC;EAChB;EACA,MAAMG,CAAC,GAAGR,iBAAiB,CAACD,IAAI,CAACI,KAAK,EAAEJ,IAAI,CAACK,IAAI,EAAEL,IAAI,CAACM,GAAG,CAAC;EAC5DN,IAAI,CAACU,EAAE,GAAGD,CAAC,CAAC,CAAC,CAAC;EACdT,IAAI,CAACW,EAAE,GAAGF,CAAC,CAAC,CAAC,CAAC;EACdT,IAAI,CAACY,EAAE,GAAGH,CAAC,CAAC,CAAC,CAAC;EACdT,IAAI,CAACa,EAAE,GAAGJ,CAAC,CAAC,CAAC,CAAC;EACd,OAAOT,IAAI;AACb\\\"}\"\n};\nvar adjustRotationToInterfaceOrientation = function () {\n  var _e = [new global.Error(), -2, -27];\n  var _f = function _f(data) {\n    var interfaceOrientation = data.interfaceOrientation,\n      pitch = data.pitch,\n      roll = data.roll,\n      yaw = data.yaw;\n    if (interfaceOrientation === 90) {\n      data.pitch = roll;\n      data.roll = -pitch;\n      data.yaw = yaw - Math.PI / 2;\n    } else if (interfaceOrientation === 270) {\n      data.pitch = -roll;\n      data.roll = pitch;\n      data.yaw = yaw + Math.PI / 2;\n    } else if (interfaceOrientation === 180) {\n      data.pitch *= -1;\n      data.roll *= -1;\n      data.yaw *= -1;\n    }\n    var q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\n    data.qx = q[0];\n    data.qy = q[1];\n    data.qz = q[2];\n    data.qw = q[3];\n    return data;\n  };\n  _f._closure = {\n    eulerToQuaternion: eulerToQuaternion\n  };\n  _f.__initData = _worklet_4985018991112_init_data;\n  _f.__workletHash = 4985018991112;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.1.0\";\n  return _f;\n}();\nvar _worklet_12606310302424_init_data = {\n  code: \"function adjustVectorToInterfaceOrientation(data) {\\n  const {\\n    interfaceOrientation: interfaceOrientation,\\n    x: x,\\n    y: y\\n  } = data;\\n  if (interfaceOrientation === 90) {\\n    data.x = -y;\\n    data.y = x;\\n  } else if (interfaceOrientation === 270) {\\n    data.x = y;\\n    data.y = -x;\\n  } else if (interfaceOrientation === 180) {\\n    data.x *= -1;\\n    data.y *= -1;\\n  }\\n  return data;\\n}\",\n  location: \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"adjustVectorToInterfaceOrientation\\\",\\\"data\\\",\\\"interfaceOrientation\\\",\\\"x\\\",\\\"y\\\"],\\\"sources\\\":[\\\"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAoEA,SAAAA,kCAASA,CAAmCC,IAAA,EAAI;EAG9C,MAAM;IACJC,oBAAoB,EAApBA,oBAAoB;IACpBC,CAAC,EAADA,CAAC;IACDC,CAAA,EAAAA;EACF,CAAC,GAAGH,IAAI;EACR,IAAIC,oBAAoB,KAAK,EAAE,EAAE;IAC/BD,IAAI,CAACE,CAAC,GAAG,CAACC,CAAC;IACXH,IAAI,CAACG,CAAC,GAAGD,CAAC;EACZ,CAAC,MAAM,IAAID,oBAAoB,KAAK,GAAG,EAAE;IACvCD,IAAI,CAACE,CAAC,GAAGC,CAAC;IACVH,IAAI,CAACG,CAAC,GAAG,CAACD,CAAC;EACb,CAAC,MAAM,IAAID,oBAAoB,KAAK,GAAG,EAAE;IACvCD,IAAI,CAACE,CAAC,IAAI,CAAC,CAAC;IACZF,IAAI,CAACG,CAAC,IAAI,CAAC,CAAC;EACd;EACA,OAAOH,IAAI;AACb\\\"}\"\n};\nvar adjustVectorToInterfaceOrientation = function () {\n  var _e = [new global.Error(), 1, -27];\n  var _f = function _f(data) {\n    var interfaceOrientation = data.interfaceOrientation,\n      x = data.x,\n      y = data.y;\n    if (interfaceOrientation === 90) {\n      data.x = -y;\n      data.y = x;\n    } else if (interfaceOrientation === 270) {\n      data.x = y;\n      data.y = -x;\n    } else if (interfaceOrientation === 180) {\n      data.x *= -1;\n      data.y *= -1;\n    }\n    return data;\n  };\n  _f._closure = {};\n  _f.__initData = _worklet_12606310302424_init_data;\n  _f.__workletHash = 12606310302424;\n  _f.__stackDetails = _e;\n  _f.__version = \"3.1.0\";\n  return _f;\n}();\nvar _worklet_12341289232967_init_data = {\n  code: \"function anonymous(data) {\\n  const {\\n    ref,\\n    sensorType,\\n    SensorType,\\n    adjustRotationToInterfaceOrientation,\\n    adjustVectorToInterfaceOrientation,\\n    sensorData,\\n    callMicrotasks\\n  } = this._closure;\\n  if (ref.current.config.adjustToInterfaceOrientation) {\\n    if (sensorType === SensorType.ROTATION) {\\n      data = adjustRotationToInterfaceOrientation(data);\\n    } else {\\n      data = adjustVectorToInterfaceOrientation(data);\\n    }\\n  }\\n  sensorData.value = data;\\n  callMicrotasks();\\n}\",\n  location: \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"data\\\",\\\"ref\\\",\\\"sensorType\\\",\\\"SensorType\\\",\\\"adjustRotationToInterfaceOrientation\\\",\\\"adjustVectorToInterfaceOrientation\\\",\\\"sensorData\\\",\\\"callMicrotasks\\\",\\\"_closure\\\",\\\"current\\\",\\\"config\\\",\\\"adjustToInterfaceOrientation\\\",\\\"ROTATION\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AA6G2J,SAAAA,SAAQA,CAAAC,IAAA;EAAA;IAAAC,GAAA;IAAAC,UAAA;IAAAC,UAAA;IAAAC,oCAAA;IAAAC,kCAAA;IAAAC,UAAA;IAAAC;EAAA,SAAAC,QAAA;EAG7J,IAAIP,GAAG,CAACQ,OAAO,CAACC,MAAM,CAACC,4BAA4B,EAAE;IACnD,IAAIT,UAAU,KAAKC,UAAU,CAACS,QAAQ,EAAE;MACtCZ,IAAI,GAAGI,oCAAoC,CAACJ,IAAI,CAAC;IACnD,CAAC,MAAM;MACLA,IAAI,GAAGK,kCAAkC,CAACL,IAAI,CAAC;IACjD;EACF;EACAM,UAAU,CAACO,KAAK,GAAGb,IAAI;EACvBO,cAAc,CAAC,CAAC;AAClB\\\"}\"\n};\nexport function useAnimatedSensor(sensorType, userConfig) {\n  var ref = useRef({\n    sensor: initSensorData(sensorType),\n    unregister: function unregister() {},\n    isAvailable: false,\n    config: {\n      interval: 0,\n      adjustToInterfaceOrientation: true,\n      iosReferenceFrame: IOSReferenceFrame.Auto\n    }\n  });\n  useEffect(function () {\n    ref.current.config = _objectSpread({\n      interval: 'auto',\n      adjustToInterfaceOrientation: true,\n      iosReferenceFrame: IOSReferenceFrame.Auto\n    }, userConfig);\n    var sensorData = ref.current.sensor;\n    var id = registerSensor(sensorType, ref.current.config.interval === 'auto' ? -1 : ref.current.config.interval, ref.current.config.iosReferenceFrame, function () {\n      var _e = [new global.Error(), -8, -27];\n      var _f = function _f(data) {\n        if (ref.current.config.adjustToInterfaceOrientation) {\n          if (sensorType === SensorType.ROTATION) {\n            data = adjustRotationToInterfaceOrientation(data);\n          } else {\n            data = adjustVectorToInterfaceOrientation(data);\n          }\n        }\n        sensorData.value = data;\n        callMicrotasks();\n      };\n      _f._closure = {\n        ref: ref,\n        sensorType: sensorType,\n        SensorType: SensorType,\n        adjustRotationToInterfaceOrientation: adjustRotationToInterfaceOrientation,\n        adjustVectorToInterfaceOrientation: adjustVectorToInterfaceOrientation,\n        sensorData: sensorData,\n        callMicrotasks: callMicrotasks\n      };\n      _f.__initData = _worklet_12341289232967_init_data;\n      _f.__workletHash = 12341289232967;\n      _f.__stackDetails = _e;\n      _f.__version = \"3.1.0\";\n      return _f;\n    }());\n    if (id !== -1) {\n      ref.current.unregister = function () {\n        return unregisterSensor(id);\n      };\n      ref.current.isAvailable = true;\n    } else {\n      ref.current.unregister = function () {};\n      ref.current.isAvailable = false;\n    }\n    return function () {\n      ref.current.unregister();\n    };\n  }, [sensorType, userConfig]);\n  return ref.current;\n}","map":{"version":3,"names":["useEffect","useRef","makeMutable","registerSensor","unregisterSensor","SensorType","IOSReferenceFrame","callMicrotasks","initSensorData","sensorType","ROTATION","qw","qx","qy","qz","yaw","pitch","roll","interfaceOrientation","x","y","z","_worklet_16207379104934_init_data","code","location","sourceMap","eulerToQuaternion","_e","global","Error","_f","c1","Math","cos","s1","sin","c2","s2","c3","s3","_closure","__initData","__workletHash","__stackDetails","__version","_worklet_4985018991112_init_data","adjustRotationToInterfaceOrientation","data","PI","q","_worklet_12606310302424_init_data","adjustVectorToInterfaceOrientation","_worklet_12341289232967_init_data","useAnimatedSensor","userConfig","ref","sensor","unregister","isAvailable","config","interval","adjustToInterfaceOrientation","iosReferenceFrame","Auto","current","_objectSpread","sensorData","id","value"],"sources":["/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedSensor.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { makeMutable, registerSensor, unregisterSensor } from '../core';\nimport {\n  SensorType,\n  SharedValue,\n  Value3D,\n  ValueRotation,\n  IOSReferenceFrame,\n} from '../commonTypes';\nimport { callMicrotasks } from '../threads';\n\nexport type SensorConfig = {\n  interval: number | 'auto';\n  adjustToInterfaceOrientation: boolean;\n  iosReferenceFrame: IOSReferenceFrame;\n};\n\nexport type AnimatedSensor = {\n  sensor: SharedValue<Value3D | ValueRotation>;\n  unregister: () => void;\n  isAvailable: boolean;\n  config: SensorConfig;\n};\n\nfunction initSensorData(\n  sensorType: SensorType\n): SharedValue<Value3D | ValueRotation> {\n  if (sensorType === SensorType.ROTATION) {\n    return makeMutable<Value3D | ValueRotation>({\n      qw: 0,\n      qx: 0,\n      qy: 0,\n      qz: 0,\n      yaw: 0,\n      pitch: 0,\n      roll: 0,\n      interfaceOrientation: 0,\n    });\n  } else {\n    return makeMutable<Value3D | ValueRotation>({\n      x: 0,\n      y: 0,\n      z: 0,\n      interfaceOrientation: 0,\n    });\n  }\n}\n\n// euler angles are in order ZXY, z = yaw, x = pitch, y = roll\n// https://github.com/mrdoob/three.js/blob/dev/src/math/Quaternion.js#L237\nfunction eulerToQuaternion(pitch: number, roll: number, yaw: number) {\n  'worklet';\n  const c1 = Math.cos(pitch / 2);\n  const s1 = Math.sin(pitch / 2);\n  const c2 = Math.cos(roll / 2);\n  const s2 = Math.sin(roll / 2);\n  const c3 = Math.cos(yaw / 2);\n  const s3 = Math.sin(yaw / 2);\n\n  return [\n    s1 * c2 * c3 - c1 * s2 * s3,\n    c1 * s2 * c3 + s1 * c2 * s3,\n    c1 * c2 * s3 + s1 * s2 * c3,\n    c1 * c2 * c3 - s1 * s2 * s3,\n  ];\n}\n\nfunction adjustRotationToInterfaceOrientation(data: ValueRotation) {\n  'worklet';\n  const { interfaceOrientation, pitch, roll, yaw } = data;\n  if (interfaceOrientation === 90) {\n    data.pitch = roll;\n    data.roll = -pitch;\n    data.yaw = yaw - Math.PI / 2;\n  } else if (interfaceOrientation === 270) {\n    data.pitch = -roll;\n    data.roll = pitch;\n    data.yaw = yaw + Math.PI / 2;\n  } else if (interfaceOrientation === 180) {\n    data.pitch *= -1;\n    data.roll *= -1;\n    data.yaw *= -1;\n  }\n\n  const q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\n  data.qx = q[0];\n  data.qy = q[1];\n  data.qz = q[2];\n  data.qw = q[3];\n  return data;\n}\n\nfunction adjustVectorToInterfaceOrientation(data: Value3D) {\n  'worklet';\n  const { interfaceOrientation, x, y } = data;\n  if (interfaceOrientation === 90) {\n    data.x = -y;\n    data.y = x;\n  } else if (interfaceOrientation === 270) {\n    data.x = y;\n    data.y = -x;\n  } else if (interfaceOrientation === 180) {\n    data.x *= -1;\n    data.y *= -1;\n  }\n  return data;\n}\n\nexport function useAnimatedSensor(\n  sensorType: SensorType,\n  userConfig?: Partial<SensorConfig>\n): AnimatedSensor {\n  const ref = useRef<AnimatedSensor>({\n    sensor: initSensorData(sensorType),\n    unregister: () => {\n      // NOOP\n    },\n    isAvailable: false,\n    config: {\n      interval: 0,\n      adjustToInterfaceOrientation: true,\n      iosReferenceFrame: IOSReferenceFrame.Auto,\n    },\n  });\n\n  useEffect(() => {\n    ref.current.config = {\n      interval: 'auto',\n      adjustToInterfaceOrientation: true,\n      iosReferenceFrame: IOSReferenceFrame.Auto,\n      ...userConfig,\n    };\n    const sensorData = ref.current.sensor!;\n    const id = registerSensor(\n      sensorType,\n      ref.current.config.interval === 'auto' ? -1 : ref.current.config.interval,\n      ref.current.config.iosReferenceFrame,\n      (data) => {\n        'worklet';\n        if (ref.current.config.adjustToInterfaceOrientation) {\n          if (sensorType === SensorType.ROTATION) {\n            data = adjustRotationToInterfaceOrientation(data as ValueRotation);\n          } else {\n            data = adjustVectorToInterfaceOrientation(data as Value3D);\n          }\n        }\n        sensorData.value = data;\n        callMicrotasks();\n      }\n    );\n\n    if (id !== -1) {\n      // if sensor is available\n      ref.current.unregister = () => unregisterSensor(id);\n      ref.current.isAvailable = true;\n    } else {\n      // if sensor is unavailable\n      ref.current.unregister = () => {\n        // NOOP\n      };\n      ref.current.isAvailable = false;\n    }\n\n    return () => {\n      ref.current.unregister();\n    };\n  }, [sensorType, userConfig]);\n\n  return ref.current;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}