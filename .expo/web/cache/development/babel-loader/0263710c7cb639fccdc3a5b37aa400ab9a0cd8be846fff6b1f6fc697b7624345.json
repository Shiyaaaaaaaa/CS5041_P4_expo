{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useEffect, useState } from 'react';\nimport { Provider as PaperProvider, TextInput, Button as PaperButton, Card, Paragraph } from 'react-native-paper';\nimport { StatusBar } from 'expo-status-bar';\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithCustomToken } from \"firebase/auth\";\nimport { getDatabase, ref, push, serverTimestamp, query, orderByChild, equalTo, limitToLast, startAt, endAt } from \"firebase/database\";\nimport { getFunctions, httpsCallable } from 'firebase/functions';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useList } from 'react-firebase-hooks/database';\nimport { ListItem, Input, Button } from 'react-native-elements';\nimport { SearchBar } from 'react-native-elements';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDBjUEw_DQNMQsZJWfTtLL0PQJoH-xF0kk\",\n  authDomain: \"sta-cs5041.firebaseapp.com\",\n  databaseURL: \"https://sta-cs5041-p4.firebaseio.com\",\n  projectId: \"sta-cs5041\",\n  storageBucket: \"sta-cs5041.appspot.com\",\n  messagingSenderId: \"639987847762\",\n  appId: \"1:639987847762:web:c5a35616a1aa1cf243458b\"\n};\nvar firebaseToken = \"9dd8d43a-01db-4286-b0e8-371d24237380\";\nvar firebaseApp = initializeApp(firebaseConfig);\nvar auth = getAuth(firebaseApp);\nvar database = getDatabase(firebaseApp);\nvar functions = getFunctions(firebaseApp);\nvar CardComponent = function CardComponent(_ref) {\n  var message = _ref.message;\n  return _jsx(Card, {\n    style: styles.card,\n    children: _jsx(Card.Content, {\n      children: _jsx(Paragraph, {\n        children: message\n      })\n    })\n  });\n};\nvar Add = function Add(_ref2) {\n  var user = _ref2.user;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    text = _useState2[0],\n    setText = _useState2[1];\n  return _jsxs(View, {\n    style: styles.inputContainer,\n    children: [_jsx(Input, {\n      containerStyle: styles.textInput,\n      placeholder: \"Message\",\n      value: text,\n      onChangeText: function onChangeText(text) {\n        return setText(text);\n      }\n    }), _jsx(Button, {\n      icon: {\n        name: 'send',\n        color: 'white'\n      },\n      buttonStyle: styles.sendButton,\n      onPress: function onPress() {\n        push(ref(database, 'data'), {\n          userId: user.uid,\n          groupId: 20,\n          timestamp: serverTimestamp(),\n          type: 'str',\n          string: text.toString().toLowerCase()\n        });\n      },\n      title: \"Post\"\n    })]\n  });\n};\nvar renderItem = function renderItem(_ref3) {\n  var item = _ref3.item;\n  return _jsx(ListItem, {\n    bottomDivider: true,\n    children: _jsx(ListItem.Content, {\n      children: _jsx(ListItem.Title, {\n        children: item.string\n      })\n    })\n  });\n};\nvar Messages = function Messages(_ref4) {\n  var messages = _ref4.messages;\n  return _jsx(FlatList, {\n    style: styles.messageList,\n    data: messages,\n    renderItem: function renderItem(_ref5) {\n      var item = _ref5.item;\n      return _jsx(CardComponent, {\n        message: item.val().string\n      });\n    },\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    }\n  });\n};\nexport default function MessagesScreen() {\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    search = _useState4[0],\n    setSearch = _useState4[1];\n  var _useAuthState = useAuthState(auth),\n    _useAuthState2 = _slicedToArray(_useAuthState, 3),\n    user = _useAuthState2[0],\n    authLoading = _useAuthState2[1],\n    authError = _useAuthState2[2];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _token$data, _token$data2;\n      var getToken = httpsCallable(functions, 'getToken');\n      var token = yield getToken({\n        token: firebaseToken\n      });\n      if ((token == null ? void 0 : (_token$data = token.data) == null ? void 0 : _token$data.result) === 'ok' && token != null && (_token$data2 = token.data) != null && _token$data2.token) {\n        signInWithCustomToken(auth, token.data.token);\n      } else {\n        var _token$data$reason, _token$data3;\n        console.error((_token$data$reason = token == null ? void 0 : (_token$data3 = token.data) == null ? void 0 : _token$data3.reason) != null ? _token$data$reason : 'unknownError');\n      }\n    })();\n  }, []);\n  var _useList = useList(user ? query(ref(database, 'data'), orderByChild(search ? 'string' : 'groupId'), search ? startAt(search.toLowerCase()).endAt(search.toLowerCase() + \"\\uF8FF\") : equalTo(20), limitToLast(10)) : null),\n    _useList2 = _slicedToArray(_useList, 3),\n    snapshots = _useList2[0],\n    dbLoading = _useList2[1],\n    dbError = _useList2[2];\n  return _jsx(PaperProvider, {\n    children: _jsxs(SafeAreaView, {\n      style: styles.container,\n      children: [_jsx(SearchBar, {\n        placeholder: \"Search messages...\",\n        onChangeText: setSearch,\n        value: search,\n        lightTheme: true,\n        round: true\n      }), _jsx(Add, {\n        user: user\n      }), snapshots ? _jsx(Messages, {\n        messages: snapshots\n      }) : null, _jsx(StatusBar, {\n        style: \"auto\"\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  card: {\n    marginLeft: 10,\n    marginRight: 10,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  inputContainer: {\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  textInput: {\n    flex: 1\n  },\n  sendButton: {\n    backgroundColor: 'blue',\n    margin: 10\n  },\n  messageList: {\n    margin: 10\n  }\n});","map":{"version":3,"names":["useEffect","useState","Provider","PaperProvider","TextInput","Button","PaperButton","Card","Paragraph","StatusBar","initializeApp","getAuth","signInWithCustomToken","getDatabase","ref","push","serverTimestamp","query","orderByChild","equalTo","limitToLast","startAt","endAt","getFunctions","httpsCallable","useAuthState","useList","ListItem","Input","SearchBar","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseToken","firebaseApp","auth","database","functions","CardComponent","_ref","message","style","styles","card","children","Content","Add","_ref2","user","_useState","_useState2","_slicedToArray","text","setText","View","inputContainer","containerStyle","textInput","placeholder","value","onChangeText","icon","name","color","buttonStyle","sendButton","onPress","userId","uid","groupId","timestamp","type","string","toString","toLowerCase","title","renderItem","_ref3","item","bottomDivider","Title","Messages","_ref4","messages","FlatList","messageList","data","_ref5","val","keyExtractor","index","MessagesScreen","_useState3","_useState4","search","setSearch","_useAuthState","_useAuthState2","authLoading","authError","_asyncToGenerator","_token$data","_token$data2","getToken","token","result","_token$data$reason","_token$data3","console","error","reason","_useList","_useList2","snapshots","dbLoading","dbError","SafeAreaView","container","lightTheme","round","StyleSheet","create","flex","backgroundColor","marginLeft","marginRight","marginTop","marginBottom","display","flexDirection","margin"],"sources":["/cs/home/sz78/Documents/P4_expo/MessageScreen.js"],"sourcesContent":["import {\n  ScrollView,\n  StyleSheet,\n  View,\n  SafeAreaView,\n  FlatList,\n} from 'react-native';\nimport { useEffect, useState } from 'react';\n\nimport {\n  Provider as PaperProvider,\n  TextInput,\n  Button as PaperButton,\n  Card,\n  Paragraph,\n} from 'react-native-paper';\n\nimport { StatusBar } from 'expo-status-bar';\n\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithCustomToken } from \"firebase/auth\";\nimport { getDatabase, ref, push, serverTimestamp, query, orderByChild, equalTo, limitToLast, startAt, endAt } from \"firebase/database\";\nimport { getFunctions, httpsCallable } from 'firebase/functions';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useList } from 'react-firebase-hooks/database';\n\nimport { ListItem, Input, Button } from 'react-native-elements';\n\nimport { SearchBar } from 'react-native-elements';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDBjUEw_DQNMQsZJWfTtLL0PQJoH-xF0kk\",\n  authDomain: \"sta-cs5041.firebaseapp.com\",\n  databaseURL: \"https://sta-cs5041-p4.firebaseio.com\",\n  projectId: \"sta-cs5041\",\n  storageBucket: \"sta-cs5041.appspot.com\",\n  messagingSenderId: \"639987847762\",\n  appId: \"1:639987847762:web:c5a35616a1aa1cf243458b\"\n};\n\nconst firebaseToken = \"9dd8d43a-01db-4286-b0e8-371d24237380\";\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\nconst database = getDatabase(firebaseApp);\nconst functions = getFunctions(firebaseApp);\n\nconst CardComponent = ({ message }) => (\n  <Card style={styles.card}>\n    <Card.Content>\n      <Paragraph>{message}</Paragraph>\n    </Card.Content>\n  </Card>\n);\n\n////一个名为 Add 的函数式组件。这个组件用于让用户发布新消息。\n//它接收一个名为 user 的属性，表示已登录的用户，如果没有用户登录，则该属性为空。\n//该组件包含一个输入框和一个发送按钮。输入框用于输入要发布的消息，而发送按钮用于将消息发布到数据库中。\n//发送按钮的 onPress 处理程序使用 ref、push 和 serverTimestamp 方法将消息数据存储在数据库中，其中包括发布消息的用户ID、组ID、时间戳、消息类型和字符串内容。\nconst Add = ({ user }) => {\n  const [text, setText] = useState('');\n\n  return (\n    <View style={styles.inputContainer}>\n      <Input\n        containerStyle={styles.textInput}\n        placeholder=\"Message\"\n        value={text}\n        onChangeText={(text) => setText(text)}\n      />\n      <Button\n        icon={{ name: 'send', color: 'white' }}\n        buttonStyle={styles.sendButton}\n        onPress={() => {\n          push(ref(database, 'data'), {\n            userId: user.uid,\n            groupId: 20,\n            timestamp: serverTimestamp(),\n            type: 'str',\n            string: text.toString().toLowerCase(),\n          });\n        }}\n        title=\"Post\"\n      />\n    </View>\n  );\n};\n\n\n//renderItem 的函数，该函数用于呈现单个列表项\nconst renderItem = ({ item }) => (\n  <ListItem bottomDivider>\n    <ListItem.Content>\n      <ListItem.Title>{item.string}</ListItem.Title>\n    </ListItem.Content>\n  </ListItem>\n);\n\n//Messages 的函数式组件。这个组件用于显示最近发布的消息列表。它接收一个名为 messages 的属性\nconst Messages = ({ messages }) => {\n  return (\n    <FlatList\n      style={styles.messageList}\n      data={messages}\n      renderItem={({ item }) => <CardComponent message={item.val().string} />}\n      keyExtractor={(item, index) => index.toString()}\n    />\n  );\n};\n\n//该组件使用 Firebase 身份验证状态钩子 useAuthState 获取已登录的用户信息，\n//并使用 useEffect 钩子在组件挂载后获取 Firebase 自定义令牌，以便对 Firebase 数据库进行身份验证。\n//此外，该组件使用 useList 钩子获取最近发布的消息列表，并将其传递给 Messages 组件\nexport default function MessagesScreen() {\n  const [search, setSearch] = useState('');\n\n  const [user, authLoading, authError] = useAuthState(auth);\n\n  useEffect(() => {\n    (async () => {\n      const getToken = httpsCallable(functions, 'getToken');\n      const token = await getToken({ token: firebaseToken });\n      if (token?.data?.result === 'ok' && token?.data?.token) {\n        signInWithCustomToken(auth, token.data.token);\n      } else {\n        console.error(token?.data?.reason ?? 'unknownError');\n      }\n    })();\n  }, []);\n\n  const [snapshots, dbLoading, dbError] = useList(\n    user\n      ? query(\n          ref(database, 'data'),\n          orderByChild(search ? 'string' : 'groupId'),\n          search\n            ? startAt(search.toLowerCase()).endAt(\n                `${search.toLowerCase()}\\uf8ff`\n              )\n            : equalTo(20),\n          limitToLast(10)\n        )\n      : null\n  );\n  \n  \n\n  return (\n    <PaperProvider>\n      <SafeAreaView style={styles.container}>\n        <SearchBar\n          placeholder=\"Search messages...\"\n          onChangeText={setSearch}\n          value={search}\n          lightTheme\n          round\n        />\n        <Add user={user} />\n        {snapshots ? <Messages messages={snapshots} /> : null}\n        <StatusBar style=\"auto\" />\n      </SafeAreaView>\n    </PaperProvider>\n  );\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n  },\n  card: {\n    marginLeft: 10,\n    marginRight: 10,\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  inputContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  textInput: {\n    flex: 1,\n  },\n  sendButton: {\n    backgroundColor: 'blue',\n    margin: 10,\n  },\n  messageList: {\n    margin: 10,\n  },\n});\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}