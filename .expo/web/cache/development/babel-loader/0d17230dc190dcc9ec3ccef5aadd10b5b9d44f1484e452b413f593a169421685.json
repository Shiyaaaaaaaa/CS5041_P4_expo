{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport { makeMutable, subscribeForKeyboardEvents, unsubscribeFromKeyboardEvents } from \"../core\";\nimport { KeyboardState } from \"../commonTypes\";\nexport function useAnimatedKeyboard() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    isStatusBarTranslucentAndroid: false\n  };\n  var ref = useRef(null);\n  var listenerId = useRef(-1);\n  var isSubscribed = useRef(false);\n  if (ref.current === null) {\n    var keyboardEventData = {\n      state: makeMutable(KeyboardState.UNKNOWN),\n      height: makeMutable(0)\n    };\n    listenerId.current = subscribeForKeyboardEvents(function () {\n      var _f = function _f(state, height) {\n        keyboardEventData.state.value = state;\n        keyboardEventData.height.value = height;\n      };\n      _f._closure = {\n        keyboardEventData: {\n          state: keyboardEventData.state,\n          height: keyboardEventData.height\n        }\n      };\n      _f.asString = \"function _f(state,height){const{keyboardEventData}=jsThis._closure;{keyboardEventData.state.value=state;keyboardEventData.height.value=height;}}\";\n      _f.__workletHash = 14454047048178;\n      _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedKeyboard.js (16:52)\";\n      return _f;\n    }(), options);\n    ref.current = keyboardEventData;\n    isSubscribed.current = true;\n  }\n  useEffect(function () {\n    if (isSubscribed.current === false && ref.current !== null) {\n      var _keyboardEventData = ref.current;\n      listenerId.current = subscribeForKeyboardEvents(function () {\n        var _f = function _f(state, height) {\n          _keyboardEventData.state.value = state;\n          _keyboardEventData.height.value = height;\n        };\n        _f._closure = {\n          _keyboardEventData: {\n            state: _keyboardEventData.state,\n            height: _keyboardEventData.height\n          }\n        };\n        _f.asString = \"function _f(state,height){const{_keyboardEventData}=jsThis._closure;{_keyboardEventData.state.value=state;_keyboardEventData.height.value=height;}}\";\n        _f.__workletHash = 10645197031085;\n        _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedKeyboard.js (29:54)\";\n        return _f;\n      }(), options);\n      isSubscribed.current = true;\n    }\n    return function () {\n      unsubscribeFromKeyboardEvents(listenerId.current);\n      isSubscribed.current = false;\n    };\n  }, []);\n  return ref.current;\n}","map":{"version":3,"names":["useEffect","useRef","makeMutable","subscribeForKeyboardEvents","unsubscribeFromKeyboardEvents","KeyboardState","useAnimatedKeyboard","options","arguments","length","undefined","isStatusBarTranslucentAndroid","ref","listenerId","isSubscribed","current","keyboardEventData","state","UNKNOWN","height","_f","value","_closure","asString","__workletHash","__location","_keyboardEventData"],"sources":["/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedKeyboard.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport {\n  makeMutable,\n  subscribeForKeyboardEvents,\n  unsubscribeFromKeyboardEvents,\n} from '../core';\nimport {\n  AnimatedKeyboardInfo,\n  AnimatedKeyboardOptions,\n  KeyboardState,\n} from '../commonTypes';\n\nexport function useAnimatedKeyboard(\n  options: AnimatedKeyboardOptions = { isStatusBarTranslucentAndroid: false }\n): AnimatedKeyboardInfo {\n  const ref = useRef<AnimatedKeyboardInfo | null>(null);\n  const listenerId = useRef<number>(-1);\n  const isSubscribed = useRef<boolean>(false);\n\n  if (ref.current === null) {\n    const keyboardEventData: AnimatedKeyboardInfo = {\n      state: makeMutable<KeyboardState>(KeyboardState.UNKNOWN),\n      height: makeMutable(0),\n    };\n    listenerId.current = subscribeForKeyboardEvents((state, height) => {\n      'worklet';\n      keyboardEventData.state.value = state;\n      keyboardEventData.height.value = height;\n    }, options);\n    ref.current = keyboardEventData;\n    isSubscribed.current = true;\n  }\n  useEffect(() => {\n    if (isSubscribed.current === false && ref.current !== null) {\n      const keyboardEventData = ref.current;\n      // subscribe again after Fast Refresh\n      listenerId.current = subscribeForKeyboardEvents((state, height) => {\n        'worklet';\n        keyboardEventData.state.value = state;\n        keyboardEventData.height.value = height;\n      }, options);\n      isSubscribed.current = true;\n    }\n    return () => {\n      unsubscribeFromKeyboardEvents(listenerId.current);\n      isSubscribed.current = false;\n    };\n  }, []);\n  return ref.current;\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SACEC,WAAW,EACXC,0BAA0B,EAC1BC,6BAA6B;AAE/B,SAGEC,aAAa;AAGf,OAAO,SAASC,mBAAmBA,CAAA,EAEX;EAAA,IADtBC,OAAgC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAAEG,6BAA6B,EAAE;EAAM,CAAC;EAE3E,IAAMC,GAAG,GAAGX,MAAM,CAA8B,IAAI,CAAC;EACrD,IAAMY,UAAU,GAAGZ,MAAM,CAAS,CAAC,CAAC,CAAC;EACrC,IAAMa,YAAY,GAAGb,MAAM,CAAU,KAAK,CAAC;EAE3C,IAAIW,GAAG,CAACG,OAAO,KAAK,IAAI,EAAE;IACxB,IAAMC,iBAAuC,GAAG;MAC9CC,KAAK,EAAEf,WAAW,CAAgBG,aAAa,CAACa,OAAO,CAAC;MACxDC,MAAM,EAAEjB,WAAW,CAAC,CAAC;IACvB,CAAC;IACDW,UAAU,CAACE,OAAO,GAAGZ,0BAA0B;MAAA,IAAAiB,EAAA,YAAAA,GAAEH,KAAK,EAAEE,MAAM,EAAK;QAEjEH,iBAAiB,CAACC,KAAK,CAACI,KAAK,GAAGJ,KAAK;QACrCD,iBAAiB,CAACG,MAAM,CAACE,KAAK,GAAGF,MAAM;MACzC,CAAC;MAAAC,EAAA,CAAAE,QAAA;QAAAN,iBAAA;UAAAC,KAAA,EAtBLD,iBAGE,CAAAC,KAAa;UAAAE,MAAA,EAGfH,iBAAgB,CAAAG;QAAA;MAAA;MAAAC,EAAA,CAAAG,QAAA;MAAAH,EAAA,CAAAI,aAAA;MAAAJ,EAAA,CAAAK,UAAA;MAAA,OAAAL,EAAA;IAAA,KAgBTb,OAAO,CAAC;IACXK,GAAG,CAACG,OAAO,GAAGC,iBAAiB;IAC/BF,YAAY,CAACC,OAAO,GAAG,IAAI;EAC7B;EACAf,SAAS,CAAC,YAAM;IACd,IAAIc,YAAY,CAACC,OAAO,KAAK,KAAK,IAAIH,GAAG,CAACG,OAAO,KAAK,IAAI,EAAE;MAC1D,IAAMC,kBAAiB,GAAGJ,GAAG,CAACG,OAAO;MAErCF,UAAU,CAACE,OAAO,GAAGZ,0BAA0B;QAAA,IAAAiB,EAAA,YAAAA,GAAEH,KAAK,EAAEE,MAAM,EAAK;UAEjEH,kBAAiB,CAACC,KAAK,CAACI,KAAK,GAAGJ,KAAK;UACrCD,kBAAiB,CAACG,MAAM,CAACE,KAAK,GAAGF,MAAM;QACzC,CAAC;QAAAC,EAAA,CAAAE,QAAA;UAAAI,kBAAA;YAAAT,KAAA,EAlCPS,kBAGE,CAAAT,KAAa;YAAAE,MAAA,EAGfO,kBAAgB,CAAAP;UAAA;QAAA;QAAAC,EAAA,CAAAG,QAAA;QAAAH,EAAA,CAAAI,aAAA;QAAAJ,EAAA,CAAAK,UAAA;QAAA,OAAAL,EAAA;MAAA,KA4BPb,OAAO,CAAC;MACXO,YAAY,CAACC,OAAO,GAAG,IAAI;IAC7B;IACA,OAAO,YAAM;MACXX,6BAA6B,CAACS,UAAU,CAACE,OAAO,CAAC;MACjDD,YAAY,CAACC,OAAO,GAAG,KAAK;IAC9B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,OAAOH,GAAG,CAACG,OAAO;AACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}