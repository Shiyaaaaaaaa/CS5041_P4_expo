{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Slider from '@react-native-community/slider';\nimport tinycolor from 'tinycolor2';\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithCustomToken } from \"firebase/auth\";\nimport { getDatabase, ref, push, serverTimestamp, query, orderByChild, equalTo, limitToLast } from \"firebase/database\";\nimport { getFunctions, httpsCallable } from 'firebase/functions';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useList } from 'react-firebase-hooks/database';\nimport { ListItem, Input, Button } from 'react-native-elements';\nimport { SearchBar } from 'react-native-elements';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDBjUEw_DQNMQsZJWfTtLL0PQJoH-xF0kk\",\n  authDomain: \"sta-cs5041.firebaseapp.com\",\n  databaseURL: \"https://sta-cs5041-p4.firebaseio.com\",\n  projectId: \"sta-cs5041\",\n  storageBucket: \"sta-cs5041.appspot.com\",\n  messagingSenderId: \"639987847762\",\n  appId: \"1:639987847762:web:c5a35616a1aa1cf243458b\"\n};\nvar firebaseToken = \"9dd8d43a-01db-4286-b0e8-371d24237380\";\nvar firebaseApp = initializeApp(firebaseConfig);\nvar auth = getAuth(firebaseApp);\nvar database = getDatabase(firebaseApp);\nvar functions = getFunctions(firebaseApp);\nvar ColorPickerScreen = function ColorPickerScreen() {\n  var _useState = useState(180),\n    _useState2 = _slicedToArray(_useState, 2),\n    hue = _useState2[0],\n    setHue = _useState2[1];\n  var _useState3 = useState(50),\n    _useState4 = _slicedToArray(_useState3, 2),\n    saturation = _useState4[0],\n    setSaturation = _useState4[1];\n  var _useState5 = useState(50),\n    _useState6 = _slicedToArray(_useState5, 2),\n    brightness = _useState6[0],\n    setBrightness = _useState6[1];\n  var color = tinycolor({\n    h: hue,\n    s: saturation,\n    v: brightness\n  }).toHexString();\n  var _useAuthState = useAuthState(auth),\n    _useAuthState2 = _slicedToArray(_useAuthState, 1),\n    user = _useAuthState2[0];\n  React.useEffect(function () {\n    signInWithCustomToken(auth, firebaseToken).catch(function (error) {\n      console.error(\"Error signing in with custom token:\", error);\n    });\n  }, []);\n  var sendColorValues = function sendColorValues() {\n    if (user) {\n      console.log(\"Sending Hue: \" + hue + \", Saturation: \" + saturation + \", Brightness: \" + brightness);\n      push(ref(database, 'data'), {\n        userId: user.uid,\n        groupId: 37,\n        timestamp: serverTimestamp(),\n        type: 'int',\n        integer: integerValue\n      });\n      push(ref(database, 'data'), {\n        userId: user.uid,\n        groupId: 37,\n        timestamp: serverTimestamp(),\n        type: 'int',\n        integer: integerValue\n      });\n      push(ref(database, 'data'), {\n        userId: user.uid,\n        groupId: 37,\n        timestamp: serverTimestamp(),\n        type: 'int',\n        integer: integerValue\n      });\n    } else {\n      console.log('User not authenticated');\n    }\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: [styles.colorCircle, {\n        backgroundColor: color\n      }]\n    }), _jsx(Text, {\n      style: styles.label,\n      children: \"Hue\"\n    }), _jsx(Slider, {\n      style: styles.slider,\n      minimumValue: 0,\n      maximumValue: 360,\n      step: 1,\n      value: hue,\n      onValueChange: function onValueChange(value) {\n        return setHue(value);\n      }\n    }), _jsx(Text, {\n      style: styles.label,\n      children: \"Saturation\"\n    }), _jsx(Slider, {\n      style: styles.slider,\n      minimumValue: 0,\n      maximumValue: 100,\n      step: 1,\n      value: saturation,\n      onValueChange: function onValueChange(value) {\n        return setSaturation(value);\n      }\n    }), _jsx(Text, {\n      style: styles.label,\n      children: \"Brightness\"\n    }), _jsx(Slider, {\n      style: styles.slider,\n      minimumValue: 0,\n      maximumValue: 100,\n      step: 1,\n      value: brightness,\n      onValueChange: function onValueChange(value) {\n        return setBrightness(value);\n      }\n    }), _jsx(Button, {\n      title: \"Send\",\n      onPress: sendColorValues,\n      buttonStyle: styles.sendButton\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff'\n  },\n  colorCircle: {\n    width: 150,\n    height: 150,\n    borderRadius: 75,\n    marginBottom: 20\n  },\n  label: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginTop: 10\n  },\n  slider: {\n    width: 300,\n    height: 40\n  },\n  sendButton: {\n    marginTop: 20,\n    backgroundColor: '#007AFF'\n  }\n});\nexport default ColorPickerScreen;","map":{"version":3,"names":["React","useState","View","StyleSheet","Text","Slider","tinycolor","initializeApp","getAuth","signInWithCustomToken","getDatabase","ref","push","serverTimestamp","query","orderByChild","equalTo","limitToLast","getFunctions","httpsCallable","useAuthState","useList","ListItem","Input","Button","SearchBar","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseToken","firebaseApp","auth","database","functions","ColorPickerScreen","_useState","_useState2","_slicedToArray","hue","setHue","_useState3","_useState4","saturation","setSaturation","_useState5","_useState6","brightness","setBrightness","color","h","s","v","toHexString","_useAuthState","_useAuthState2","user","useEffect","catch","error","console","sendColorValues","log","userId","uid","groupId","timestamp","type","integer","integerValue","style","styles","container","children","colorCircle","backgroundColor","label","slider","minimumValue","maximumValue","step","value","onValueChange","title","onPress","buttonStyle","sendButton","create","flex","justifyContent","alignItems","width","height","borderRadius","marginBottom","fontSize","fontWeight","marginTop"],"sources":["/cs/home/sz78/Documents/P4_expo/ColorPickerScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, StyleSheet, Text } from 'react-native';\nimport Slider from '@react-native-community/slider';\nimport tinycolor from 'tinycolor2';\n\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithCustomToken } from \"firebase/auth\";\nimport { getDatabase, ref, push, serverTimestamp, query, orderByChild, equalTo, limitToLast } from \"firebase/database\";\nimport { getFunctions, httpsCallable } from 'firebase/functions';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useList } from 'react-firebase-hooks/database';\n\nimport { ListItem, Input, Button } from 'react-native-elements';\n\nimport { SearchBar } from 'react-native-elements';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDBjUEw_DQNMQsZJWfTtLL0PQJoH-xF0kk\",\n  authDomain: \"sta-cs5041.firebaseapp.com\",\n  databaseURL: \"https://sta-cs5041-p4.firebaseio.com\",\n  projectId: \"sta-cs5041\",\n  storageBucket: \"sta-cs5041.appspot.com\",\n  messagingSenderId: \"639987847762\",\n  appId: \"1:639987847762:web:c5a35616a1aa1cf243458b\"\n};\n\nconst firebaseToken = \"9dd8d43a-01db-4286-b0e8-371d24237380\";\n\nconst firebaseApp = initializeApp(firebaseConfig);\nconst auth = getAuth(firebaseApp);\nconst database = getDatabase(firebaseApp);\nconst functions = getFunctions(firebaseApp);\n\n\nconst ColorPickerScreen = () => {\n    const [hue, setHue] = useState(180);\n    const [saturation, setSaturation] = useState(50);\n    const [brightness, setBrightness] = useState(50);\n  \n    const color = tinycolor({\n      h: hue,\n      s: saturation,\n      v: brightness,\n    }).toHexString();\n  \n    const [user] = useAuthState(auth);\n    React.useEffect(() => {\n        signInWithCustomToken(auth, firebaseToken).catch((error) => {\n          console.error(\"Error signing in with custom token:\", error);\n        });\n      }, []);\n  \n    const sendColorValues = () => {\n        if (user) {\n          console.log(`Sending Hue: ${hue}, Saturation: ${saturation}, Brightness: ${brightness}`);\n          \n          push(ref(database, 'data'), {\n            userId: user.uid,\n            groupId: 37,\n            timestamp: serverTimestamp(),\n            type: 'int',\n            integer: integerValue,\n          });\n          push(ref(database, 'data'), {\n            userId: user.uid,\n            groupId: 37,\n            timestamp: serverTimestamp(),\n            type: 'int',\n            integer: integerValue,\n          });\n          push(ref(database, 'data'), {\n            userId: user.uid,\n            groupId: 37,\n            timestamp: serverTimestamp(),\n            type: 'int',\n            integer: integerValue,\n          });\n        } else {\n          console.log('User not authenticated');\n        }\n      };      \n  \n    return (\n      <View style={styles.container}>\n        <View\n          style={[styles.colorCircle, { backgroundColor: color }]}\n        ></View>\n        <Text style={styles.label}>Hue</Text>\n        <Slider\n          style={styles.slider}\n          minimumValue={0}\n          maximumValue={360}\n          step={1}\n          value={hue}\n          onValueChange={(value) => setHue(value)}\n        />\n        <Text style={styles.label}>Saturation</Text>\n        <Slider\n          style={styles.slider}\n          minimumValue={0}\n          maximumValue={100}\n          step={1}\n          value={saturation}\n          onValueChange={(value) => setSaturation(value)}\n        />\n        <Text style={styles.label}>Brightness</Text>\n        <Slider\n          style={styles.slider}\n          minimumValue={0}\n          maximumValue={100}\n          step={1}\n          value={brightness}\n          onValueChange={(value) => setBrightness(value)}\n        />\n        <Button\n          title=\"Send\"\n          onPress={sendColorValues}\n          buttonStyle={styles.sendButton}\n        />\n      </View>\n    );\n  };\n  \n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#fff',\n    },\n    colorCircle: {\n      width: 150,\n      height: 150,\n      borderRadius: 75,\n      marginBottom: 20,\n    },\n    label: {\n      fontSize: 18,\n      fontWeight: 'bold',\n      marginTop: 10,\n    },\n    slider: {\n      width: 300,\n      height: 40,\n    },\n    sendButton: {\n      marginTop: 20,\n      backgroundColor: '#007AFF',\n    },\n  });\n  \n  export default ColorPickerScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}