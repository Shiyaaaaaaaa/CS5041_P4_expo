{"ast":null,"code":"import { isColor, convertToRGBA, rgbaArrayToRGBAColor, toGammaSpace, toLinearSpace } from \"../Colors\";\nimport NativeReanimatedModule from \"../NativeReanimated\";\nvar IN_STYLE_UPDATER = false;\nexport function initialUpdaterRun(updater) {\n  IN_STYLE_UPDATER = true;\n  var result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\nvar recognizePrefixSuffix = function () {\n  var _f = function _f(value) {\n    if (typeof value === 'string') {\n      var _match$;\n      var match = value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);\n      if (!match) {\n        throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");\n      }\n      var prefix = match[1];\n      var suffix = match[4];\n      var number = match[2] + ((_match$ = match[3]) != null ? _match$ : '');\n      return {\n        prefix: prefix,\n        suffix: suffix,\n        strippedValue: parseFloat(number)\n      };\n    } else {\n      return {\n        strippedValue: value\n      };\n    }\n  };\n  _f._closure = {};\n  _f.asString = \"function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;const match=value.match(/([A-Za-z]*)(-?\\\\d*\\\\.?\\\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw Error(\\\"Couldn't parse animation value. Check if there isn't any typo.\\\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_match$=match[3])!==null&&_match$!==void 0?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}\";\n  _f.__workletHash = 10298453511432;\n  _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js (11:0)\";\n  return _f;\n}();\nvar decorateAnimation = function () {\n  var _f = function _f(animation) {\n    if (animation.isHigherOrder) {\n      return;\n    }\n    var baseOnStart = animation.onStart;\n    var baseOnFrame = animation.onFrame;\n    var animationCopy = Object.assign({}, animation);\n    delete animationCopy.callback;\n    var prefNumberSuffOnStart = function prefNumberSuffOnStart(animation, value, timestamp, previousAnimation) {\n      var _animation$__prefix, _animation$__suffix;\n      var _recognizePrefixSuffi = recognizePrefixSuffix(value),\n        prefix = _recognizePrefixSuffi.prefix,\n        suffix = _recognizePrefixSuffi.suffix,\n        strippedValue = _recognizePrefixSuffi.strippedValue;\n      animation.__prefix = prefix;\n      animation.__suffix = suffix;\n      animation.strippedCurrent = strippedValue;\n      var _recognizePrefixSuffi2 = recognizePrefixSuffix(animation.toValue),\n        strippedToValue = _recognizePrefixSuffi2.strippedValue;\n      animation.current = strippedValue;\n      animation.startValue = strippedValue;\n      animation.toValue = strippedToValue;\n      if (previousAnimation && previousAnimation !== animation) {\n        var _recognizePrefixSuffi3 = recognizePrefixSuffix(previousAnimation.current),\n          paPrefix = _recognizePrefixSuffi3.prefix,\n          paSuffix = _recognizePrefixSuffi3.suffix,\n          paStrippedValue = _recognizePrefixSuffi3.strippedValue;\n        previousAnimation.current = paStrippedValue;\n        previousAnimation.__prefix = paPrefix;\n        previousAnimation.__suffix = paSuffix;\n      }\n      baseOnStart(animation, strippedValue, timestamp, previousAnimation);\n      animation.current = ((_animation$__prefix = animation.__prefix) != null ? _animation$__prefix : '') + animation.current + ((_animation$__suffix = animation.__suffix) != null ? _animation$__suffix : '');\n      if (previousAnimation && previousAnimation !== animation) {\n        var _previousAnimation$__, _previousAnimation$__2;\n        previousAnimation.current = ((_previousAnimation$__ = previousAnimation.__prefix) != null ? _previousAnimation$__ : '') + previousAnimation.current + ((_previousAnimation$__2 = previousAnimation.__suffix) != null ? _previousAnimation$__2 : '');\n      }\n    };\n    var prefNumberSuffOnFrame = function prefNumberSuffOnFrame(animation, timestamp) {\n      var _animation$__prefix2, _animation$__suffix2;\n      animation.current = animation.strippedCurrent;\n      var res = baseOnFrame(animation, timestamp);\n      animation.strippedCurrent = animation.current;\n      animation.current = ((_animation$__prefix2 = animation.__prefix) != null ? _animation$__prefix2 : '') + animation.current + ((_animation$__suffix2 = animation.__suffix) != null ? _animation$__suffix2 : '');\n      return res;\n    };\n    var tab = ['R', 'G', 'B', 'A'];\n    var colorOnStart = function colorOnStart(animation, value, timestamp, previousAnimation) {\n      var RGBAValue;\n      var RGBACurrent;\n      var RGBAToValue;\n      var res = [];\n      if (isColor(value)) {\n        RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n        RGBAValue = toLinearSpace(convertToRGBA(value));\n        if (animation.toValue) {\n          RGBAToValue = toLinearSpace(convertToRGBA(animation.toValue));\n        }\n      }\n      tab.forEach(function (i, index) {\n        animation[i] = Object.assign({}, animationCopy);\n        animation[i].current = RGBACurrent[index];\n        animation[i].toValue = RGBAToValue ? RGBAToValue[index] : undefined;\n        animation[i].onStart(animation[i], RGBAValue[index], timestamp, previousAnimation ? previousAnimation[i] : undefined);\n        res.push(animation[i].current);\n      });\n      animation.current = rgbaArrayToRGBAColor(toGammaSpace(res));\n    };\n    var colorOnFrame = function colorOnFrame(animation, timestamp) {\n      var RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n      var res = [];\n      var finished = true;\n      tab.forEach(function (i, index) {\n        animation[i].current = RGBACurrent[index];\n        finished &= animation[i].onFrame(animation[i], timestamp);\n        res.push(animation[i].current);\n      });\n      animation.current = rgbaArrayToRGBAColor(toGammaSpace(res));\n      return finished;\n    };\n    var arrayOnStart = function arrayOnStart(animation, value, timestamp, previousAnimation) {\n      value.forEach(function (v, i) {\n        animation[i] = Object.assign({}, animationCopy);\n        animation[i].current = v;\n        animation[i].toValue = animation.toValue[i];\n        animation[i].onStart(animation[i], v, timestamp, previousAnimation ? previousAnimation[i] : undefined);\n      });\n      animation.current = value;\n    };\n    var arrayOnFrame = function arrayOnFrame(animation, timestamp) {\n      var finished = true;\n      animation.current.forEach(function (v, i) {\n        finished &= animation[i].onFrame(animation[i], timestamp);\n        animation.current[i] = animation[i].current;\n      });\n      return finished;\n    };\n    animation.onStart = function (animation, value, timestamp, previousAnimation) {\n      if (isColor(value)) {\n        colorOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = colorOnFrame;\n        return;\n      } else if (Array.isArray(value)) {\n        arrayOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = arrayOnFrame;\n        return;\n      } else if (typeof value === 'string') {\n        prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n        animation.onFrame = prefNumberSuffOnFrame;\n        return;\n      }\n      baseOnStart(animation, value, timestamp, previousAnimation);\n    };\n  };\n  _f._closure = {\n    recognizePrefixSuffix: recognizePrefixSuffix,\n    isColor: isColor,\n    toLinearSpace: toLinearSpace,\n    convertToRGBA: convertToRGBA,\n    rgbaArrayToRGBAColor: rgbaArrayToRGBAColor,\n    toGammaSpace: toGammaSpace\n  };\n  _f.asString = \"function decorateAnimation(animation){const{recognizePrefixSuffix,isColor,toLinearSpace,convertToRGBA,rgbaArrayToRGBAColor,toGammaSpace}=jsThis._closure;{if(animation.isHigherOrder){return;}const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){const{prefix:paPrefix,suffix:paSuffix,strippedValue:paStrippedValue}=recognizePrefixSuffix(previousAnimation.current);previousAnimation.current=paStrippedValue;previousAnimation.__prefix=paPrefix;previousAnimation.__suffix=paSuffix;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!==null&&_animation$__prefix!==void 0?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!==null&&_animation$__suffix!==void 0?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!==null&&_previousAnimation$__!==void 0?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!==null&&_previousAnimation$__2!==void 0?_previousAnimation$__2:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!==null&&_animation$__prefix2!==void 0?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!==null&&_animation$__suffix2!==void 0?_animation$__suffix2:'');return res;};const tab=['R','G','B','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let RGBAValue;let RGBACurrent;let RGBAToValue;const res=[];if(isColor(value)){RGBACurrent=toLinearSpace(convertToRGBA(animation.current));RGBAValue=toLinearSpace(convertToRGBA(value));if(animation.toValue){RGBAToValue=toLinearSpace(convertToRGBA(animation.toValue));}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=RGBACurrent[index];animation[i].toValue=RGBAToValue?RGBAToValue[index]:undefined;animation[i].onStart(animation[i],RGBAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=rgbaArrayToRGBAColor(toGammaSpace(res));};const colorOnFrame=function(animation,timestamp){const RGBACurrent=toLinearSpace(convertToRGBA(animation.current));const res=[];let finished=true;tab.forEach(function(i,index){animation[i].current=RGBACurrent[index];finished&=animation[i].onFrame(animation[i],timestamp);res.push(animation[i].current);});animation.current=rgbaArrayToRGBAColor(toGammaSpace(res));return finished;};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=true;animation.current.forEach(function(v,i){finished&=animation[i].onFrame(animation[i],timestamp);animation.current[i]=animation[i].current;});return finished;};animation.onStart=function(animation,value,timestamp,previousAnimation){if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}}\";\n  _f.__workletHash = 7767808760058;\n  _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js (34:0)\";\n  return _f;\n}();\nvar IS_NATIVE = NativeReanimatedModule.native;\nexport var defineAnimation = function () {\n  var _f = function _f(starting, factory) {\n    if (IN_STYLE_UPDATER) {\n      return starting;\n    }\n    var create = function () {\n      var _f = function _f() {\n        var animation = factory();\n        decorateAnimation(animation);\n        return animation;\n      };\n      _f._closure = {\n        factory: factory,\n        decorateAnimation: decorateAnimation\n      };\n      _f.asString = \"function _f(){const{factory,decorateAnimation}=jsThis._closure;{const animation=factory();decorateAnimation(animation);return animation;}}\";\n      _f.__workletHash = 2441595458132;\n      _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js (160:17)\";\n      return _f;\n    }();\n    if (_WORKLET || !IS_NATIVE) {\n      return create();\n    }\n    return create;\n  };\n  _f._closure = {\n    IN_STYLE_UPDATER: IN_STYLE_UPDATER,\n    decorateAnimation: decorateAnimation,\n    IS_NATIVE: IS_NATIVE\n  };\n  _f.asString = \"function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation,IS_NATIVE}=jsThis._closure;{if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET||!IS_NATIVE){return create();}return create;}}\";\n  _f.__workletHash = 11195940382377;\n  _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js (154:7)\";\n  return _f;\n}();\nexport var cancelAnimation = function () {\n  var _f = function _f(sharedValue) {\n    sharedValue.value = sharedValue.value;\n  };\n  _f._closure = {};\n  _f.asString = \"function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}\";\n  _f.__workletHash = 15056882569526;\n  _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js (173:7)\";\n  return _f;\n}();\nexport var withStartValue = function () {\n  var _f = function _f(startValue, animation) {\n    return defineAnimation(startValue, function () {\n      var _f = function _f() {\n        if (!_WORKLET && typeof animation === 'function') {\n          animation = animation();\n        }\n        animation.current = startValue;\n        return animation;\n      };\n      _f._closure = {\n        animation: animation,\n        startValue: startValue\n      };\n      _f.asString = \"function _f(){const{animation,startValue}=jsThis._closure;{if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;}}\";\n      _f.__workletHash = 5374403234008;\n      _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js (184:37)\";\n      return _f;\n    }());\n  };\n  _f._closure = {\n    defineAnimation: defineAnimation\n  };\n  _f.asString = \"function withStartValue(startValue,animation){const{defineAnimation}=jsThis._closure;{return defineAnimation(startValue,function(){'worklet';if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;});}}\";\n  _f.__workletHash = 5100017907325;\n  _f.__location = \"/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.js (181:7)\";\n  return _f;\n}();","map":{"version":3,"names":["isColor","convertToRGBA","rgbaArrayToRGBAColor","toGammaSpace","toLinearSpace","NativeReanimatedModule","IN_STYLE_UPDATER","initialUpdaterRun","updater","result","recognizePrefixSuffix","_f","value","_match$","match","Error","prefix","suffix","number","strippedValue","parseFloat","_closure","asString","__workletHash","__location","decorateAnimation","animation","isHigherOrder","baseOnStart","onStart","baseOnFrame","onFrame","animationCopy","Object","assign","callback","prefNumberSuffOnStart","timestamp","previousAnimation","_animation$__prefix","_animation$__suffix","_recognizePrefixSuffi","__prefix","__suffix","strippedCurrent","_recognizePrefixSuffi2","toValue","strippedToValue","current","startValue","_recognizePrefixSuffi3","paPrefix","paSuffix","paStrippedValue","_previousAnimation$__","_previousAnimation$__2","prefNumberSuffOnFrame","_animation$__prefix2","_animation$__suffix2","res","tab","colorOnStart","RGBAValue","RGBACurrent","RGBAToValue","forEach","i","index","undefined","push","colorOnFrame","finished","arrayOnStart","v","arrayOnFrame","Array","isArray","IS_NATIVE","native","defineAnimation","starting","factory","create","_WORKLET","cancelAnimation","sharedValue","withStartValue"],"sources":["/cs/home/sz78/Documents/P4_expo/node_modules/react-native-reanimated/lib/module/reanimated2/animation/util.ts"],"sourcesContent":["import {\n  HigherOrderAnimation,\n  NextAnimation,\n  DelayAnimation,\n  RepeatAnimation,\n  SequenceAnimation,\n  StyleLayoutAnimation,\n} from './commonTypes';\n/* global _WORKLET */\nimport {\n  ParsedColorArray,\n  isColor,\n  convertToRGBA,\n  rgbaArrayToRGBAColor,\n  toGammaSpace,\n  toLinearSpace,\n} from '../Colors';\n\nimport {\n  AnimatedStyle,\n  SharedValue,\n  AnimatableValue,\n  Animation,\n  AnimationObject,\n  Timestamp,\n} from '../commonTypes';\nimport NativeReanimatedModule from '../NativeReanimated';\n\nlet IN_STYLE_UPDATER = false;\n\nexport type UserUpdater = () => AnimatedStyle;\n\nexport function initialUpdaterRun<T>(updater: () => T): T {\n  IN_STYLE_UPDATER = true;\n  const result = updater();\n  IN_STYLE_UPDATER = false;\n  return result;\n}\n\ninterface RecognizedPrefixSuffix {\n  prefix?: string;\n  suffix?: string;\n  strippedValue: number;\n}\n\nfunction recognizePrefixSuffix(value: string | number): RecognizedPrefixSuffix {\n  'worklet';\n  if (typeof value === 'string') {\n    const match = value.match(\n      /([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/\n    );\n    if (!match) {\n      throw Error(\n        \"Couldn't parse animation value. Check if there isn't any typo.\"\n      );\n    }\n    const prefix = match[1];\n    const suffix = match[4];\n    // number with scientific notation\n    const number = match[2] + (match[3] ?? '');\n    return { prefix, suffix, strippedValue: parseFloat(number) };\n  } else {\n    return { strippedValue: value };\n  }\n}\n\nfunction decorateAnimation<T extends AnimationObject | StyleLayoutAnimation>(\n  animation: T\n): void {\n  'worklet';\n  if ((animation as HigherOrderAnimation).isHigherOrder) {\n    return;\n  }\n\n  const baseOnStart = (animation as Animation<AnimationObject>).onStart;\n  const baseOnFrame = (animation as Animation<AnimationObject>).onFrame;\n  const animationCopy = Object.assign({}, animation);\n  delete animationCopy.callback;\n\n  const prefNumberSuffOnStart = (\n    animation: Animation<AnimationObject>,\n    value: string | number,\n    timestamp: number,\n    previousAnimation: Animation<AnimationObject>\n  ) => {\n    // recognize prefix, suffix, and updates stripped value on animation start\n    const { prefix, suffix, strippedValue } = recognizePrefixSuffix(value);\n    animation.__prefix = prefix;\n    animation.__suffix = suffix;\n    animation.strippedCurrent = strippedValue;\n    const { strippedValue: strippedToValue } = recognizePrefixSuffix(\n      animation.toValue as string | number\n    );\n    animation.current = strippedValue;\n    animation.startValue = strippedValue;\n    animation.toValue = strippedToValue;\n    if (previousAnimation && previousAnimation !== animation) {\n      const {\n        prefix: paPrefix,\n        suffix: paSuffix,\n        strippedValue: paStrippedValue,\n      } = recognizePrefixSuffix(previousAnimation.current as string | number);\n      previousAnimation.current = paStrippedValue;\n      previousAnimation.__prefix = paPrefix;\n      previousAnimation.__suffix = paSuffix;\n    }\n\n    baseOnStart(animation, strippedValue, timestamp, previousAnimation);\n\n    animation.current =\n      (animation.__prefix ?? '') +\n      animation.current +\n      (animation.__suffix ?? '');\n\n    if (previousAnimation && previousAnimation !== animation) {\n      previousAnimation.current =\n        (previousAnimation.__prefix ?? '') +\n        previousAnimation.current +\n        (previousAnimation.__suffix ?? '');\n    }\n  };\n  const prefNumberSuffOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: number\n  ) => {\n    animation.current = animation.strippedCurrent;\n    const res = baseOnFrame(animation, timestamp);\n    animation.strippedCurrent = animation.current;\n    animation.current =\n      (animation.__prefix ?? '') +\n      animation.current +\n      (animation.__suffix ?? '');\n    return res;\n  };\n\n  const tab = ['R', 'G', 'B', 'A'];\n  const colorOnStart = (\n    animation: Animation<AnimationObject>,\n    value: string | number,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    let RGBAValue: ParsedColorArray;\n    let RGBACurrent: ParsedColorArray;\n    let RGBAToValue: ParsedColorArray;\n    const res: Array<number> = [];\n    if (isColor(value)) {\n      RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n      RGBAValue = toLinearSpace(convertToRGBA(value));\n      if (animation.toValue) {\n        RGBAToValue = toLinearSpace(convertToRGBA(animation.toValue));\n      }\n    }\n    tab.forEach((i, index) => {\n      animation[i] = Object.assign({}, animationCopy);\n      animation[i].current = RGBACurrent[index];\n      animation[i].toValue = RGBAToValue ? RGBAToValue[index] : undefined;\n      animation[i].onStart(\n        animation[i],\n        RGBAValue[index],\n        timestamp,\n        previousAnimation ? previousAnimation[i] : undefined\n      );\n      res.push(animation[i].current);\n    });\n\n    animation.current = rgbaArrayToRGBAColor(\n      toGammaSpace(res as ParsedColorArray)\n    );\n  };\n\n  const colorOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    const RGBACurrent = toLinearSpace(convertToRGBA(animation.current));\n    const res: Array<number> = [];\n    let finished = true;\n    tab.forEach((i, index) => {\n      animation[i].current = RGBACurrent[index];\n      // @ts-ignore: disable-next-line\n      finished &= animation[i].onFrame(animation[i], timestamp);\n      res.push(animation[i].current);\n    });\n\n    animation.current = rgbaArrayToRGBAColor(\n      toGammaSpace(res as ParsedColorArray)\n    );\n    return finished;\n  };\n\n  const arrayOnStart = (\n    animation: Animation<AnimationObject>,\n    value: Array<number>,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ): void => {\n    value.forEach((v, i) => {\n      animation[i] = Object.assign({}, animationCopy);\n      animation[i].current = v;\n      animation[i].toValue = (animation.toValue as Array<number>)[i];\n      animation[i].onStart(\n        animation[i],\n        v,\n        timestamp,\n        previousAnimation ? previousAnimation[i] : undefined\n      );\n    });\n\n    animation.current = value;\n  };\n\n  const arrayOnFrame = (\n    animation: Animation<AnimationObject>,\n    timestamp: Timestamp\n  ): boolean => {\n    let finished = true;\n    (animation.current as Array<number>).forEach((v, i) => {\n      // @ts-ignore: disable-next-line\n      finished &= animation[i].onFrame(animation[i], timestamp);\n      (animation.current as Array<number>)[i] = animation[i].current;\n    });\n\n    return finished;\n  };\n\n  animation.onStart = (\n    animation: Animation<AnimationObject>,\n    value: number,\n    timestamp: Timestamp,\n    previousAnimation: Animation<AnimationObject>\n  ) => {\n    if (isColor(value)) {\n      colorOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = colorOnFrame;\n      return;\n    } else if (Array.isArray(value)) {\n      arrayOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = arrayOnFrame;\n      return;\n    } else if (typeof value === 'string') {\n      prefNumberSuffOnStart(animation, value, timestamp, previousAnimation);\n      animation.onFrame = prefNumberSuffOnFrame;\n      return;\n    }\n    baseOnStart(animation, value, timestamp, previousAnimation);\n  };\n}\n\ntype AnimationToDecoration<T extends AnimationObject | StyleLayoutAnimation> =\n  T extends StyleLayoutAnimation\n    ? Record<string, unknown>\n    : T extends DelayAnimation\n    ? NextAnimation<DelayAnimation>\n    : T extends RepeatAnimation\n    ? NextAnimation<RepeatAnimation>\n    : T extends SequenceAnimation\n    ? NextAnimation<SequenceAnimation>\n    : AnimatableValue | T;\n\nconst IS_NATIVE = NativeReanimatedModule.native;\n\nexport function defineAnimation<\n  T extends AnimationObject | StyleLayoutAnimation\n>(starting: AnimationToDecoration<T>, factory: () => T): T {\n  'worklet';\n  if (IN_STYLE_UPDATER) {\n    return starting as T;\n  }\n  const create = () => {\n    'worklet';\n    const animation = factory();\n    decorateAnimation<T>(animation);\n    return animation;\n  };\n\n  if (_WORKLET || !IS_NATIVE) {\n    return create();\n  }\n  // @ts-ignore: eslint-disable-line\n  return create;\n}\n\nexport function cancelAnimation<T>(sharedValue: SharedValue<T>): void {\n  'worklet';\n  // setting the current value cancels the animation if one is currently running\n  sharedValue.value = sharedValue.value; // eslint-disable-line no-self-assign\n}\n\n// TODO it should work only if there was no animation before.\nexport function withStartValue(\n  startValue: AnimatableValue,\n  animation: NextAnimation<AnimationObject>\n): Animation<AnimationObject> {\n  'worklet';\n  return defineAnimation(startValue, () => {\n    'worklet';\n    if (!_WORKLET && typeof animation === 'function') {\n      animation = animation();\n    }\n    (animation as Animation<AnimationObject>).current = startValue;\n    return animation as Animation<AnimationObject>;\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}